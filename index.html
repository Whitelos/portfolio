<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Ìè¨Ìä∏Ìè¥Î¶¨Ïò§</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #000000;
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            min-height: 100vh;
            background: #0a0a0a;
        }

        .header {
            position: sticky;
            top: 0;
            background: #0a0a0a;
            z-index: 100;
            padding: 16px 20px;
            border-bottom: 1px solid #1f1f1f;
        }

        .back-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 24px;
            padding: 8px;
            margin-left: -8px;
            cursor: pointer;
        }

        .summary-section {
            padding: 32px 20px 24px;
        }

        .summary-label {
            font-size: 14px;
            color: #8e8e93;
            margin-bottom: 8px;
        }

        .total-profit {
            font-size: 40px;
            font-weight: 800;
            letter-spacing: -1.5px;
            margin-bottom: 4px;
        }

        .total-profit.positive {
            color: #ff3b30;
        }

        .total-profit.negative {
            color: #007aff;
        }

        .sub-info {
            font-size: 15px;
            color: #8e8e93;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            padding: 0 20px 24px;
        }

        .action-btn {
            flex: 1;
            background: #1c1c1e;
            border: none;
            color: #fff;
            padding: 14px;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .action-btn:active {
            transform: scale(0.98);
            background: #2c2c2e;
        }

        .action-btn.primary {
            background: #fff;
            color: #000;
        }

        .chart-section {
            padding: 0 20px 32px;
        }

        .chart-container {
            position: relative;
            height: 280px;
            margin-bottom: 24px;
        }

        .chart-center-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            pointer-events: none;
        }

        .chart-center-label {
            font-size: 13px;
            color: #8e8e93;
            margin-bottom: 4px;
        }

        .chart-center-value {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
        }

        .tab {
            background: #1c1c1e;
            border: none;
            color: #8e8e93;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .tab.active {
            background: #fff;
            color: #000;
        }

        .holdings-list {
            padding: 0 20px 100px;
        }

        .holding-item {
            display: flex;
            align-items: center;
            padding: 16px 0;
            border-bottom: 1px solid #1f1f1f;
        }

        .holding-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-right: 12px;
            flex-shrink: 0;
        }

        .holding-info {
            flex: 1;
            min-width: 0;
        }

        .holding-name {
            font-size: 17px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .holding-quantity {
            font-size: 14px;
            color: #8e8e93;
        }

        .holding-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 6px;
            background: #1c1c1e;
            color: #8e8e93;
        }

        .holding-value {
            text-align: right;
        }

        .holding-price {
            font-size: 17px;
            font-weight: 700;
            margin-bottom: 2px;
        }

        .holding-profit {
            font-size: 14px;
            font-weight: 600;
        }

        .holding-profit.positive {
            color: #ff3b30;
        }

        .holding-profit.negative {
            color: #007aff;
        }

        .composition-list {
            margin-bottom: 32px;
        }

        .composition-item {
            display: flex;
            align-items: center;
            padding: 12px 0;
        }

        .composition-color {
            width: 12px;
            height: 12px;
            border-radius: 3px;
            margin-right: 12px;
            flex-shrink: 0;
        }

        .composition-info {
            flex: 1;
            min-width: 0;
        }

        .composition-name {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .composition-value {
            font-size: 13px;
            color: #8e8e93;
        }

        .composition-percent {
            font-size: 15px;
            font-weight: 600;
            color: #fff;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            display: flex;
            align-items: flex-end;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.2s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }

        .modal-content {
            background: #1c1c1e;
            border-radius: 20px 20px 0 0;
            padding: 24px 20px 40px;
            width: 100%;
            max-width: 600px;
            max-height: 85vh;
            overflow-y: auto;
            animation: slideUp 0.3s cubic-bezier(0.32, 0.72, 0, 1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .modal-title {
            font-size: 22px;
            font-weight: 700;
        }

        .modal-close {
            background: none;
            border: none;
            color: #8e8e93;
            font-size: 28px;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            color: #8e8e93;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-input {
            width: 100%;
            background: #2c2c2e;
            border: none;
            color: #fff;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            font-family: inherit;
        }

        .form-input:focus {
            outline: none;
            background: #3a3a3c;
        }

        .form-input::placeholder {
            color: #636366;
        }

        .form-select {
            width: 100%;
            background: #2c2c2e;
            border: none;
            color: #fff;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            font-family: inherit;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='%23fff' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            padding-right: 40px;
        }

        .form-hint {
            font-size: 12px;
            color: #636366;
            margin-top: 6px;
        }

        .submit-btn {
            width: 100%;
            background: #fff;
            color: #000;
            border: none;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 8px;
        }

        .submit-btn:active {
            opacity: 0.8;
        }

        .empty-state {
            text-align: center;
            padding: 80px 20px;
        }

        .empty-icon {
            font-size: 64px;
            margin-bottom: 16px;
            opacity: 0.3;
        }

        .empty-text {
            font-size: 17px;
            color: #8e8e93;
            line-height: 1.5;
        }

        .detail-view {
            background: #0a0a0a;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 200;
            overflow-y: auto;
        }

        .delete-btn {
            background: #ff3b30;
            color: #fff;
            border: none;
            padding: 14px;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin-top: 12px;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #8e8e93;
        }

        .refresh-indicator {
            display: inline-block;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ÏÉâÏÉÅ ÌåîÎ†àÌä∏ (ÌÜ†Ïä§ Ïä§ÌÉÄÏùº)
        const COLORS = [
            '#5B8FF9', '#61DDAA', '#65789B', '#F6BD16', '#7262FD',
            '#78D3F8', '#9661BC', '#F6903D', '#008685', '#F08BB4',
            '#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8',
            '#6C5CE7', '#A29BFE', '#FD79A8', '#FDCB6E', '#E17055'
        ];

        function getColorForIndex(index) {
            return COLORS[index % COLORS.length];
        }

        // ÏïÑÏù¥ÏΩò ÏÉùÏÑ± Ìï®Ïàò
        function getIconForName(name) {
            const icons = {
                'ÎπÑÌä∏ÏΩîÏù∏': '‚Çø',
                'BTC': '‚Çø',
                'Ïù¥ÎçîÎ¶¨ÏõÄ': 'Œû',
                'ETH': 'Œû',
                'ÏÜîÎùºÎÇò': '‚óé',
                'SOL': '‚óé',
                'Î¶¨Ìîå': '‚úï',
                'XRP': '‚úï',
            };
            return icons[name] || name.charAt(0).toUpperCase();
        }

        // Í∞ÄÍ≤© API Ìò∏Ï∂ú
        async function fetchCryptoPrice(symbol) {
            try {
                // CoinGecko API
                const ids = {
                    'bitcoin': 'bitcoin',
                    'btc': 'bitcoin',
                    'ÎπÑÌä∏ÏΩîÏù∏': 'bitcoin',
                    'ethereum': 'ethereum',
                    'eth': 'ethereum',
                    'Ïù¥ÎçîÎ¶¨ÏõÄ': 'ethereum',
                    'solana': 'solana',
                    'sol': 'solana',
                    'ÏÜîÎùºÎÇò': 'solana',
                    'ripple': 'ripple',
                    'xrp': 'ripple',
                    'Î¶¨Ìîå': 'ripple',
                };

                const coinId = ids[symbol.toLowerCase()] || symbol.toLowerCase();
                const response = await fetch(
                    `https://api.coingecko.com/api/v3/simple/price?ids=${coinId}&vs_currencies=krw`
                );
                const data = await response.json();
                
                if (data[coinId] && data[coinId].krw) {
                    return data[coinId].krw;
                }
                return null;
            } catch (error) {
                console.error('Í∞ÄÍ≤© Ï°∞Ìöå Ïã§Ìå®:', error);
                return null;
            }
        }

        function App() {
            const [view, setView] = useState('list'); // 'list' or 'chart'
            const [holdings, setHoldings] = useState([]);
            const [showModal, setShowModal] = useState(false);
            const [selectedHolding, setSelectedHolding] = useState(null);
            const [loading, setLoading] = useState(false);
            const [activeTab, setActiveTab] = useState('all');
            const chartRef = useRef(null);
            const chartInstance = useRef(null);

            const [formData, setFormData] = useState({
                name: '',
                symbol: '',
                type: 'cex',
                avgPrice: '',
                quantity: '',
                currentPrice: ''
            });

            useEffect(() => {
                const saved = localStorage.getItem('toss-portfolio');
                if (saved) {
                    setHoldings(JSON.parse(saved));
                }
            }, []);

            useEffect(() => {
                localStorage.setItem('toss-portfolio', JSON.stringify(holdings));
                if (view === 'chart' && chartRef.current) {
                    renderChart();
                }
            }, [holdings, view]);

            const handleSubmit = (e) => {
                e.preventDefault();
                const newHolding = {
                    id: Date.now(),
                    ...formData,
                    avgPrice: parseFloat(formData.avgPrice),
                    quantity: parseFloat(formData.quantity),
                    currentPrice: parseFloat(formData.currentPrice),
                    color: getColorForIndex(holdings.length)
                };
                setHoldings([...holdings, newHolding]);
                setFormData({
                    name: '',
                    symbol: '',
                    type: 'cex',
                    avgPrice: '',
                    quantity: '',
                    currentPrice: ''
                });
                setShowModal(false);
            };

            const updatePrices = async () => {
                setLoading(true);
                const updated = await Promise.all(
                    holdings.map(async (holding) => {
                        if (holding.symbol) {
                            const price = await fetchCryptoPrice(holding.symbol);
                            if (price) {
                                return { ...holding, currentPrice: price };
                            }
                        }
                        return holding;
                    })
                );
                setHoldings(updated);
                setLoading(false);
            };

            const deleteHolding = (id) => {
                if (confirm('Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                    setHoldings(holdings.filter(h => h.id !== id));
                    setSelectedHolding(null);
                }
            };

            const exportToExcel = () => {
                const csv = [
                    ['Ï¢ÖÎ™©Î™Ö', 'ÌÉÄÏûÖ', 'ÌèâÍ∑†Í∞Ä', 'ÏàòÎüâ', 'ÌòÑÏû¨Í∞Ä', 'ÌèâÍ∞ÄÍ∏àÏï°', 'ÏàòÏùµÍ∏à', 'ÏàòÏùµÎ•†'].join(','),
                    ...holdings.map(h => {
                        const value = h.currentPrice * h.quantity;
                        const profit = (h.currentPrice - h.avgPrice) * h.quantity;
                        const profitRate = ((h.currentPrice - h.avgPrice) / h.avgPrice * 100).toFixed(2);
                        return [
                            h.name,
                            h.type === 'cex' ? 'Í±∞ÎûòÏÜå' : 'DEX',
                            h.avgPrice,
                            h.quantity,
                            h.currentPrice,
                            value,
                            profit,
                            profitRate + '%'
                        ].join(',');
                    })
                ].join('\n');

                const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = `portfolio_${new Date().toISOString().split('T')[0]}.csv`;
                link.click();
            };

            const renderChart = () => {
                if (chartInstance.current) {
                    chartInstance.current.destroy();
                }

                const ctx = chartRef.current.getContext('2d');
                const filteredHoldings = activeTab === 'all' 
                    ? holdings 
                    : holdings.filter(h => h.type === activeTab);

                chartInstance.current = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: filteredHoldings.map(h => h.name),
                        datasets: [{
                            data: filteredHoldings.map(h => h.currentPrice * h.quantity),
                            backgroundColor: filteredHoldings.map(h => h.color),
                            borderWidth: 0,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '75%',
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                enabled: false
                            }
                        }
                    }
                });
            };

            const calculateStats = () => {
                const filteredHoldings = activeTab === 'all' 
                    ? holdings 
                    : holdings.filter(h => h.type === activeTab);

                const totalInvestment = filteredHoldings.reduce((sum, h) => sum + (h.avgPrice * h.quantity), 0);
                const totalValue = filteredHoldings.reduce((sum, h) => sum + (h.currentPrice * h.quantity), 0);
                const totalProfit = totalValue - totalInvestment;
                const totalProfitRate = totalInvestment > 0 ? ((totalProfit / totalInvestment) * 100).toFixed(1) : 0;

                return { totalInvestment, totalValue, totalProfit, totalProfitRate, filteredHoldings };
            };

            const formatNumber = (num) => {
                if (num >= 1000000) {
                    return (num / 10000).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',') + 'Îßå';
                }
                return Math.round(num).toLocaleString('ko-KR');
            };

            const formatPrice = (num) => {
                return Math.round(num).toLocaleString('ko-KR');
            };

            const { totalInvestment, totalValue, totalProfit, totalProfitRate, filteredHoldings } = calculateStats();

            if (selectedHolding) {
                const profit = (selectedHolding.currentPrice - selectedHolding.avgPrice) * selectedHolding.quantity;
                const profitRate = ((selectedHolding.currentPrice - selectedHolding.avgPrice) / selectedHolding.avgPrice * 100).toFixed(2);
                const value = selectedHolding.currentPrice * selectedHolding.quantity;

                return (
                    <div className="detail-view">
                        <div className="header">
                            <button className="back-btn" onClick={() => setSelectedHolding(null)}>‚Üê</button>
                        </div>
                        <div className="summary-section">
                            <div className="summary-label">{selectedHolding.name}</div>
                            <div className={`total-profit ${profit >= 0 ? 'positive' : 'negative'}`}>
                                {profit >= 0 ? '+' : ''}{formatPrice(profit)}Ïõê
                            </div>
                            <div className="sub-info">
                                {profit >= 0 ? '+' : ''}{profitRate}%
                                <span className="holding-badge">
                                    {selectedHolding.type === 'cex' ? 'Í±∞ÎûòÏÜå' : 'DEX'}
                                </span>
                            </div>
                        </div>
                        <div style={{padding: '0 20px'}}>
                            <div style={{background: '#1c1c1e', borderRadius: '16px', padding: '20px', marginBottom: '16px'}}>
                                <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '16px'}}>
                                    <div>
                                        <div className="summary-label">ÌèâÍ∑† Îß§ÏàòÍ∞Ä</div>
                                        <div style={{fontSize: '18px', fontWeight: '600'}}>{formatPrice(selectedHolding.avgPrice)}Ïõê</div>
                                    </div>
                                    <div style={{textAlign: 'right'}}>
                                        <div className="summary-label">ÌòÑÏû¨Í∞Ä</div>
                                        <div style={{fontSize: '18px', fontWeight: '600'}}>{formatPrice(selectedHolding.currentPrice)}Ïõê</div>
                                    </div>
                                </div>
                                <div style={{display: 'flex', justifyContent: 'space-between'}}>
                                    <div>
                                        <div className="summary-label">Î≥¥Ïú† ÏàòÎüâ</div>
                                        <div style={{fontSize: '18px', fontWeight: '600'}}>{selectedHolding.quantity}</div>
                                    </div>
                                    <div style={{textAlign: 'right'}}>
                                        <div className="summary-label">ÌèâÍ∞Ä Í∏àÏï°</div>
                                        <div style={{fontSize: '18px', fontWeight: '600'}}>{formatPrice(value)}Ïõê</div>
                                    </div>
                                </div>
                            </div>
                            <button className="delete-btn" onClick={() => deleteHolding(selectedHolding.id)}>
                                ÏÇ≠Ï†ú
                            </button>
                        </div>
                    </div>
                );
            }

            if (view === 'chart') {
                return (
                    <div className="container">
                        <div className="header">
                            <button className="back-btn" onClick={() => setView('list')}>‚Üê</button>
                        </div>
                        <div className="summary-section">
                            <div className="summary-label">
                                {activeTab === 'all' ? 'Ï†ÑÏ≤¥' : activeTab === 'cex' ? 'Í±∞ÎûòÏÜå' : 'DEX'} Ï¥ù Í∏àÏï°
                            </div>
                            <div className="total-profit">
                                {formatNumber(totalValue)}Ïõê
                            </div>
                        </div>
                        <div className="chart-section">
                            <div className="tabs">
                                <button 
                                    className={`tab ${activeTab === 'all' ? 'active' : ''}`}
                                    onClick={() => setActiveTab('all')}
                                >
                                    Ï†ÑÏ≤¥
                                </button>
                                <button 
                                    className={`tab ${activeTab === 'cex' ? 'active' : ''}`}
                                    onClick={() => setActiveTab('cex')}
                                >
                                    Í±∞ÎûòÏÜå
                                </button>
                                <button 
                                    className={`tab ${activeTab === 'dex' ? 'active' : ''}`}
                                    onClick={() => setActiveTab('dex')}
                                >
                                    DEX
                                </button>
                            </div>
                            <div className="chart-container">
                                <canvas ref={chartRef}></canvas>
                            </div>
                            <div className="composition-list">
                                {filteredHoldings.map((holding, index) => {
                                    const value = holding.currentPrice * holding.quantity;
                                    const percent = ((value / totalValue) * 100).toFixed(1);
                                    return (
                                        <div key={holding.id} className="composition-item">
                                            <div className="composition-color" style={{background: holding.color}}></div>
                                            <div className="composition-info">
                                                <div className="composition-name">{holding.name}</div>
                                                <div className="composition-value">{formatNumber(value)}Ïõê</div>
                                            </div>
                                            <div className="composition-percent">{percent}%</div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="container">
                    <div className="summary-section">
                        <div className="summary-label">ÎÇ¥ ÏàòÏùµÎ•†</div>
                        <div className={`total-profit ${totalProfit >= 0 ? 'positive' : 'negative'}`}>
                            {totalProfit >= 0 ? '+' : ''}{totalProfitRate}%
                        </div>
                        <div className="sub-info">
                            {holdings.length}Í∞ú ÏûêÎèôÏóÖÎç∞Ïù¥Ìä∏
                        </div>
                    </div>

                    <div className="action-buttons">
                        <button className="action-btn primary" onClick={() => setShowModal(true)}>
                            + Ï¢ÖÎ™© Ï∂îÍ∞Ä
                        </button>
                        <button className="action-btn" onClick={() => setView('chart')}>
                            Ï∞®Ìä∏Î≥¥Í∏∞
                        </button>
                        <button className="action-btn" onClick={updatePrices} disabled={loading}>
                            {loading ? <span className="refresh-indicator">üîÑ</span> : 'üîÑ Í∞±Ïã†'}
                        </button>
                        <button className="action-btn" onClick={exportToExcel}>
                            üìä ÏóëÏÖÄ
                        </button>
                    </div>

                    {holdings.length === 0 ? (
                        <div className="empty-state">
                            <div className="empty-icon">üìä</div>
                            <div className="empty-text">
                                Î≥¥Ïú†Ìïú Ï¢ÖÎ™©Ïù¥ ÏóÜÏñ¥Ïöî<br/>
                                Ï¢ÖÎ™©ÏùÑ Ï∂îÍ∞ÄÌï¥Î≥¥ÏÑ∏Ïöî
                            </div>
                        </div>
                    ) : (
                        <div className="holdings-list">
                            {holdings.map((holding, index) => {
                                const profit = (holding.currentPrice - holding.avgPrice) * holding.quantity;
                                const profitRate = ((holding.currentPrice - holding.avgPrice) / holding.avgPrice * 100).toFixed(1);
                                const value = holding.currentPrice * holding.quantity;
                                
                                return (
                                    <div 
                                        key={holding.id} 
                                        className="holding-item"
                                        onClick={() => setSelectedHolding(holding)}
                                    >
                                        <div 
                                            className="holding-icon" 
                                            style={{background: holding.color}}
                                        >
                                            {getIconForName(holding.name)}
                                        </div>
                                        <div className="holding-info">
                                            <div className="holding-name">
                                                {holding.name}
                                                <span className="holding-badge">
                                                    {holding.type === 'cex' ? 'Í±∞ÎûòÏÜå' : 'DEX'}
                                                </span>
                                            </div>
                                            <div className="holding-quantity">{holding.quantity}Í∞ú</div>
                                        </div>
                                        <div className="holding-value">
                                            <div className="holding-price">{formatNumber(value)}Ïõê</div>
                                            <div className={`holding-profit ${profit >= 0 ? 'positive' : 'negative'}`}>
                                                {profit >= 0 ? '+' : ''}{formatPrice(profit)} ({profit >= 0 ? '+' : ''}{profitRate}%)
                                            </div>
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                    )}

                    {showModal && (
                        <div className="modal" onClick={(e) => {
                            if (e.target.className === 'modal') setShowModal(false);
                        }}>
                            <div className="modal-content">
                                <div className="modal-header">
                                    <div className="modal-title">Ï¢ÖÎ™© Ï∂îÍ∞Ä</div>
                                    <button className="modal-close" onClick={() => setShowModal(false)}>√ó</button>
                                </div>
                                <form onSubmit={handleSubmit}>
                                    <div className="form-group">
                                        <label className="form-label">Ï¢ÖÎ•ò</label>
                                        <select 
                                            className="form-select"
                                            value={formData.type}
                                            onChange={(e) => setFormData({...formData, type: e.target.value})}
                                        >
                                            <option value="cex">Í±∞ÎûòÏÜå (CEX)</option>
                                            <option value="dex">ÌÉàÏ§ëÏïôÌôî Í±∞ÎûòÏÜå (DEX)</option>
                                        </select>
                                    </div>

                                    <div className="form-group">
                                        <label className="form-label">Ï¢ÖÎ™©Î™Ö</label>
                                        <input
                                            type="text"
                                            className="form-input"
                                            value={formData.name}
                                            onChange={(e) => setFormData({...formData, name: e.target.value})}
                                            placeholder="Ïòà: ÎπÑÌä∏ÏΩîÏù∏"
                                            required
                                        />
                                    </div>

                                    <div className="form-group">
                                        <label className="form-label">Ïã¨Î≥º (ÏûêÎèô Í∞ÄÍ≤© Ï°∞ÌöåÏö©)</label>
                                        <input
                                            type="text"
                                            className="form-input"
                                            value={formData.symbol}
                                            onChange={(e) => setFormData({...formData, symbol: e.target.value})}
                                            placeholder="Ïòà: bitcoin, ethereum, solana"
                                        />
                                        <div className="form-hint">
                                            CoinGecko ID ÏûÖÎ†• (ÏÑ†ÌÉùÏÇ¨Ìï≠)
                                        </div>
                                    </div>

                                    <div className="form-group">
                                        <label className="form-label">ÌèâÍ∑† Îß§ÏàòÍ∞Ä (Ïõê)</label>
                                        <input
                                            type="number"
                                            className="form-input"
                                            value={formData.avgPrice}
                                            onChange={(e) => setFormData({...formData, avgPrice: e.target.value})}
                                            placeholder="100000"
                                            required
                                        />
                                    </div>

                                    <div className="form-group">
                                        <label className="form-label">Î≥¥Ïú† ÏàòÎüâ</label>
                                        <input
                                            type="number"
                                            step="any"
                                            className="form-input"
                                            value={formData.quantity}
                                            onChange={(e) => setFormData({...formData, quantity: e.target.value})}
                                            placeholder="1.5"
                                            required
                                        />
                                    </div>

                                    <div className="form-group">
                                        <label className="form-label">ÌòÑÏû¨Í∞Ä (Ïõê)</label>
                                        <input
                                            type="number"
                                            className="form-input"
                                            value={formData.currentPrice}
                                            onChange={(e) => setFormData({...formData, currentPrice: e.target.value})}
                                            placeholder="150000"
                                            required
                                        />
                                    </div>

                                    <button type="submit" className="submit-btn">
                                        Ï∂îÍ∞ÄÌïòÍ∏∞
                                    </button>
                                </form>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
